{"version":3,"sources":["js/model.js","../node_modules/vm-browserify/index.js","js/Item.js","js/view.js","js/index.js"],"names":["shoppingList","completedList","addToShoppingList","item","itemId","parseInt","Math","random","Date","getTime","push","id","priority","exports","setPriority","map","removeItem","confirm","window","filter","getShoppingList","addToCompletedList","getItem","find","getCompletedList","clearCompletedList","Item","title","_default","default","_vm","require","_Item","_interopRequireDefault","_model","obj","__esModule","shoppingListDiv","document","querySelector","completedDiv","renderShoppingList","domNodes","innerHTML","join","renderCompletedList","_view","itemInput","clearCompletedBtn","addEventListener","evt","key","target","value","parentElement","classList","contains","getAttribute","getId","dataTransfer","setData","getData","preventDefault"],"mappings":"ACAA;AACA;AACA,AGFA,IAAAkC,MAAA,GAAAH,OAAA;AHGA,AGIA,IAAAe,KAAA,GAAAf,OAAA;AHHA,AGKA,MAAMgB,SAAS,GAAGT,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;AHJnE,AGKA,MAAMF,eAAe,GAAGC,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;AHJhE,ACNA,AEWA,AJXA,AGAA,IHAIvC,AGAJ8B,EDAMJ,AEWAc,CDXN,GDAU,ACAVT,GDAaL,CAACC,EFAE,CGAhB,CCWkB,CFXC,AFAA,EEAEf,AEWA0B,AJXA,QEAQ,AEWA,CAACC,EFXE,QAAQ,EAAE5B,CEWC,CFXC,AEWA,KFXK,OEWO,CAAC;AHJzD,AGKA,AJXA,AGAA,EDAC,EFAGV,AGAJ+B,ECWMgB,GFXG,ACAT,GAAAf,KHAiB,GAAG,EAAE,CIWC,GAAGK,GFXE1B,KEWM,ADXlC,CCWmC2B,ADXnCR,EDAqC,KCArC,MCWgD,CAAC,EFXCpB,EAAG,cEWc,CAAC;AHJpE,ACNA,AEYAoC,AJXO,AGDP,IAAAb,EHCahC,GIWJ,CAAC+C,ADZV,GAAAlB,ODAoBJ,ACApB,GHC8B,EEDJ,CEYA,AJXQxB,CIWP,GJXW,IIWJ,AJXS,EIWP,UAAU+C,GAAG,EAAE;AHLnD,ACNA,ACD4D,ECa3D,AJXA,IIWIA,EJXE9C,CIWC,ADboD6B,CCanDkB,GAAG,CJXC,GAAI,CIWA,EJXE9C,KIWK,EAAE,CJXC,CACzBC,GGH0D6B,CHGtD,CAAC5B,CGHqD,KHG/C,CAAC,CAAC,GAAG,CGH0C4B,GAAA,EHI3D,CAAE,CGJyDA,GAAA,CAAAC,CHIpD,IAAI5B,IAAI,CAAC,AGJ2C,CHI1C,CAACC,CGJyC0B,GAAA,GHIlC,CAAC,CAAE,AGJ+BN,EHI9B,KGJ8B,EAAAM,GAAA;AFQ5D,ACNA,ACAA,EHICnC,EIQC,EDZIqC,QHIO,CAAC3B,IAAI,CAAC,CGJE,GAAG4B,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;AFOhE,ACNA,ACAA,ICYE,AJRA5B,EAAE,AGJE6B,ECYJtC,AJRIE,MAAM,IGJM,GAAGkC,QAAQ,CAACC,ECYX,EAACW,GAAG,CAACE,KDZmB,CCYb,ADZc,CCYbC,KAAK,CAAC,KDZmB,CAAC;AFOzD,ACNA,ACCO,ICWL,AJRAlD,EGHWsC,EHGP,gBGHyB,GAAGA,CAAA,KAAM;AFMxC,ACNA,ECCC,ECWC,AJRA7B,IIQA6B,ADXKC,IHGG,EAAE,EGHG,GAAG,IAAAtB,SCWE,EAAC,CAAC,UDXW,EAAC,CAAC,CAACL,GAAG,CAAC,CAAC;AFMzC,ACNA,EFIC,CAAC,CIQA,AJRC,AGJwCZ,ICYrC,ADZyC,CCYxCkD,KAAK,GAAG,EAAE;AHLjB,ACNA,AFIA,CAAC,CIQA,EDbgDzC,GDC1C,KCDkD;AFQzD,ACNA,AEYA,AJTEC,CEHD,AEYA,CAAC,EDdyDF,GHKzD,CAAAT,iBAAA,GAAAA,iBAAA;ACIF,ACPE,AEcFmC,AJTO,EGPuD,CAAC,CDE7DT,EFKWd,EGPuD,IDElE,GAEaY,AEYA,CAACuB,CJTQ,EEHL,CFGQnC,CAACV,MAAM,EAAEQ,GISJ,CAAC,IJTW,GISJ,EAAE,AJTO,UISGsC,GAAG,EAAE;AHNzD,ACNmBrC,EEalB,AJTAb,EGPC,GDGiB,CAAA6B,GCHV,GHOI,CEJM,ACHVH,EHOO1B,CEJG4B,QAAA,ECHN,CHOe,CAACb,AGPfZ,GHOkB,CAAEA,AGPhB,EAAES,EHOkB,IAAK,EGPf,EAAED,EAAE,CAAC;AFUjC,EGOC,ADhBA,CAAC,CHOA,AGPC,ECgBEuC,EJTC/C,CISE,CAACiD,EJTC,CAACzC,EAAE,CISE,CAAC2C,GJTElD,MAAM,EAAE,EISG,CAACmD,SAAS,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;AHNtE,EERCnB,ECeC,EJTC,IISKzB,GJTE,IGNM,CCeA,ADfC+B,GCeEO,GAAG,CAACE,EDfG,GAAGV,CCeA,CAACa,MDfO,CAACX,ECeC,CAACS,CDfE,CAAC,EAAE,CCeA,ADfC;AFS9C,AERA,CAAC,GCeC,IJTE,EISIjD,CJTDD,IAAI,CISG,GACX+C,GAAG,CAACE,MAAM,CAACE,aAAa,CAACA,aAAa,CAACG,YAAY,CAAC,SAAS,CAAC;AHPjE,AETE5C,ICiBA,GDjBA,CHOED,AGPF6B,kBAAA,GAAAA,kBAAA;AFUF,AERO,ICgBL,EJVC,AGNUI,CHMT,CIUF/B,iBDhB8B,CCgBnB,EAACV,ADhBqByC,CAAA,KCgBf,ADhBqB,ECgBnBjC,QAAQ,CAAC;AHP/B,EERC,ECgBC,AJVA,IGNK8B,QAAQ,GAAG,IAAAlB,uBAAgB,EAAC,CAAC,CAACT,GAAG,CAAC,CAAC;AFS1C,IGQE,AJVA,AGP0CZ,ICiB1CsC,ADjB8C,GHOvCtC,IAAI,iBIUO,EAAC,CAAC;AHPtB,EGQC,AJVA,CAAC,CAAC,AGR+CS,QAAQ;AFW1D,ADFA,CAAC,GGT2DD;AFY5D,ADHEE,EIWD,ADpB8D,CAAC,IHS9D,CAAAC,AGTmE,WHSnE,GAAAA,WAAA;ACIF,ADFO,EIUN,EDpBC,ECoBGoC,AJVQlC,GIUL,CAACoC,CDpBA,IAAA1B,CCoBM,AJVQ,CIUP6B,EJVWnD,MAAM,CIUR,CAACoD,CDpBb,CHUyB,CGVxBrD,IAAI,CCoBgB,CAAC,ADpBfS,QAAQ,EAAED,ECoBiB,ADpBf,CCoBgB,ADpBf,ECoBiB;AHPlD,EDFC,AGVA,CAAC,CCoBA,ADpBC,IHUIM,EIUCb,KJVM,CIUA,EJVGc,CIUAgC,GAAG,CAACE,CJVE,CAACnC,IIUG,CAACqC,EJVG,CAAC,UIUS,CAACG,YAAY,CAAC,SAAS,CAAC,MJVO,CAAC;ACGzE,EDFC,AGVAjB,ECoBC,EJVGvB,OAAO,CGVC,CHUC,AGVA0B,SAAS,GAAGD,QAAQ,CAACE,IAAI,CAAC,EAAE,CAAC;AFa3C,AEZA,CAAC,GCoBC,AJVA5C,IIUI,IAAAgB,IJVQ,GAAGhB,UIUD,EAACI,AJVY,CAACe,KIUP,CAAC,AJVY,CAAC,CIUX,AJVY;ACGtC,AEbEN,MCqBC,AJXqCF,CGVtC,CAAAkC,ECqBCJ,iBDrBD,GAAAI,ICqBmB,EAAC,CAAC,YDrBrB;AFcF,IGQE,AJZyC,CAAC,KAAKlC,EAAE,KAAKP,MAAM,CAAC;ACK/D,EGQC,EJZC,OAAO,IAAI;ACKb,AGQA,CAAC,CAAC,AJZD;ACKD,EDJC,OAAO,KAAK;ACKb,AGQA,AJZA,CAAC;ACKD,ADLES,OAAA,CAAAG,UAAA,GAAAA,UAAA;ACMF,AGQAqB,AJZO,MAAMjB,SIYE,CAAC6B,KJZY,GAAG7B,CAAA,KAAMpB,EIYL,CAAC,SJZgB,EIYL,EAAE,UAAUkD,GAAG,EAAE;AHP7D,ADLkDrC,EIajD,IAAIqC,CJb6C,CAAA9B,CIa1C,CAACgC,MAAM,CAACG,MJbkC,GIazB,AJbyBnC,CIaxBoC,QAAQ,CAAC,KJbe,CIaT,CAAC,EAAE;AHP5C,ADJO,IIYL,EJZWnC,IIYLqC,KAAK,GAAGR,GAAG,CAACE,EJZW,GAAIhD,CIYT,CAACqD,IJZc,IAAK,IIYP,CAAC,SAAS,CAAC;AHPlD,EDJC,EIYCP,GAAG,CAACS,AJZCrC,OAAO,GAAGtB,EIYC,CAAC4D,OAAO,CAAC,CJZE,CAACrC,IAAI,CAAC,CAAC,IIYG,EAAEmC,KAAK,CAAC;AHP/C,EGQC,EJbqC/C;ACMtC,AGQA,CAAC,CAAC,AJduC,CAAC,KAAKA,EAAE,KAAKP,MAAM,CAAC;ACO7D,AGSAoC,EJfCxC,UIeW,CAACiD,CJfA,GAAGjD,YIea,AJfD,CIeE,AJfDmB,MIeO,AJfD,CAAC,CIeE,AJfD,UIeW+B,GAAG,EAAE;AHRrD,EGSC,EJhBsCvC,IIgBhCP,MAAM,GAAG8C,GAAG,CAACS,YAAY,CAACE,OAAO,CAAC,YAAY,CAAC;AHRtD,EGSC,AJjByC,CAAC,GIiBtCzD,EJjB2CO,EAAE,EIiBvC,EAAE,CJjB0CP,MAAM,CAAC;ACS9D,EDRCH,EIiBC,WJjBY,GAAG,CAACqB,OAAO,EAAE,GAAGrB,aAAa,CAAC;ACS5C,ADRA,CAAC,GIiBC,IAAAoB,yBAAkB,EAACjB,MAAM,CAAC;AHR5B,ADTES,IIkBA,GJlBA,CAAAQ,kBAAA,GAAAA,kBAAA;ACUF,ADRO,IIiBL,EJjBWG,EIiBXiB,cJjB2B,GAAGjB,CAAA,KAAMvB,CIiBlB,EAAC,CAAC,SJjB6B;ACSnD,ADToDY,IIkBlD,GJlBkD,CAAAW,gBAAA,GAAAA,gBAAA;ACUpD,ADRO,IIiBL,EJjBWC,EIiBXoB,gBJjB6B,GAAGpB,CAAA,KIiBb,AJjBoBxB,EIiBnB,CAAC,UJjB+B,GAAG,EAAG;ACS5D,ADT6DY,EIkB5D,KJlB4D,CAAAY,kBAAA,GAAAA,kBAAA;ACU7D,AGSA,CAAC,CAAC;AHRF,AGUAe,YAAY,CAACS,gBAAgB,CAAC,UAAU,EAAE,UAAUC,GAAG,EAAE;AHTzD,EGUCA,GAAG,CAACY,cAAc,CAAC,CAAC;AHTrB,AGUA,CAAC,CAAC;AHTF,AGWAd,iBAAiB,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAAUC,GAAG,EAAE;AHV3D,EGWCA,GAAG,CAACY,cAAc,CAAC,CAAC;AHVrB,EGWC,IAAArC,yBAAkB,EAAC,CAAC;AHVrB,EGWC,IAAAoB,yBAAmB,EAAC,CAAC;AHVtB,AGWA,CAAC,CAAC;AHVF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"js.00a46daa.js","sourceRoot":"..\\src","sourcesContent":["let shoppingList = [];\r\nlet completedList = [];\r\n\r\nexport const addToShoppingList = (item) => {\r\n\tconst itemId = `${parseInt(\r\n\t\tMath.random() * 100000,\r\n\t)} - ${new Date().getTime()}`;\r\n\r\n\tshoppingList.push({\r\n\t\tid: itemId,\r\n\t\titem,\r\n\t\tpriority: 'normal',\r\n\t});\r\n};\r\n\r\nexport const setPriority = (itemId, priority) => {\r\n\tshoppingList = shoppingList.map((item) => {\r\n\t\tif (item.id === itemId) {\r\n\t\t\treturn {\r\n\t\t\t\t...item,\r\n\t\t\t\tpriority,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn item;\r\n\t});\r\n};\r\n\r\nexport const removeItem = (itemId) => {\r\n\tconst confirm = window.confirm('Do you really want to delete the item?');\r\n\tif (confirm) {\r\n\t\tshoppingList = shoppingList.filter(({ id }) => id !== itemId);\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nexport const getShoppingList = () => shoppingList;\r\n\r\nexport const addToCompletedList = (itemId) => {\r\n\tconst getItem = shoppingList.find(({ id }) => id === itemId);\r\n\tshoppingList = shoppingList.filter(({ id }) => id !== itemId);\r\n\tcompletedList = [getItem, ...completedList];\r\n};\r\n\r\nexport const getCompletedList = () => completedList;\r\n\r\nexport const clearCompletedList = () => (completedList = []);\r\n","var indexOf = function (xs, item) {\n    if (xs.indexOf) return xs.indexOf(item);\n    else for (var i = 0; i < xs.length; i++) {\n        if (xs[i] === item) return i;\n    }\n    return -1;\n};\nvar Object_keys = function (obj) {\n    if (Object.keys) return Object.keys(obj)\n    else {\n        var res = [];\n        for (var key in obj) res.push(key)\n        return res;\n    }\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nvar defineProp = (function() {\n    try {\n        Object.defineProperty({}, '_', {});\n        return function(obj, name, value) {\n            Object.defineProperty(obj, name, {\n                writable: true,\n                enumerable: false,\n                configurable: true,\n                value: value\n            })\n        };\n    } catch(e) {\n        return function(obj, name, value) {\n            obj[name] = value;\n        };\n    }\n}());\n\nvar globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',\n'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',\n'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',\n'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',\n'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];\n\nfunction Context() {}\nContext.prototype = {};\n\nvar Script = exports.Script = function NodeScript (code) {\n    if (!(this instanceof Script)) return new Script(code);\n    this.code = code;\n};\n\nScript.prototype.runInContext = function (context) {\n    if (!(context instanceof Context)) {\n        throw new TypeError(\"needs a 'context' argument.\");\n    }\n    \n    var iframe = document.createElement('iframe');\n    if (!iframe.style) iframe.style = {};\n    iframe.style.display = 'none';\n    \n    document.body.appendChild(iframe);\n    \n    var win = iframe.contentWindow;\n    var wEval = win.eval, wExecScript = win.execScript;\n\n    if (!wEval && wExecScript) {\n        // win.eval() magically appears when this is called in IE:\n        wExecScript.call(win, 'null');\n        wEval = win.eval;\n    }\n    \n    forEach(Object_keys(context), function (key) {\n        win[key] = context[key];\n    });\n    forEach(globals, function (key) {\n        if (context[key]) {\n            win[key] = context[key];\n        }\n    });\n    \n    var winKeys = Object_keys(win);\n\n    var res = wEval.call(win, this.code);\n    \n    forEach(Object_keys(win), function (key) {\n        // Avoid copying circular objects like `top` and `window` by only\n        // updating existing context properties or new properties in the `win`\n        // that was only introduced after the eval.\n        if (key in context || indexOf(winKeys, key) === -1) {\n            context[key] = win[key];\n        }\n    });\n\n    forEach(globals, function (key) {\n        if (!(key in context)) {\n            defineProp(context, key, win[key]);\n        }\n    });\n    \n    document.body.removeChild(iframe);\n    \n    return res;\n};\n\nScript.prototype.runInThisContext = function () {\n    return eval(this.code); // maybe...\n};\n\nScript.prototype.runInNewContext = function (context) {\n    var ctx = Script.createContext(context);\n    var res = this.runInContext(ctx);\n\n    if (context) {\n        forEach(Object_keys(ctx), function (key) {\n            context[key] = ctx[key];\n        });\n    }\n\n    return res;\n};\n\nforEach(Object_keys(Script.prototype), function (name) {\n    exports[name] = Script[name] = function (code) {\n        var s = Script(code);\n        return s[name].apply(s, [].slice.call(arguments, 1));\n    };\n});\n\nexports.isContext = function (context) {\n    return context instanceof Context;\n};\n\nexports.createScript = function (code) {\n    return exports.Script(code);\n};\n\nexports.createContext = Script.createContext = function (context) {\n    var copy = new Context();\n    if(typeof context === 'object') {\n        forEach(Object_keys(context), function (key) {\n            copy[key] = context[key];\n        });\n    }\n    return copy;\n};\n","const Item = (title, priority = 'normal', id) => {\r\n\treturn `<div class=\"item ${priority}\" data-id=\"${id}\" draggable=\"true\">\r\n<div class=\"task\">${title}</div>\r\n<div class=\"priority-control\">\r\n  <span class=\"high\"></span>\r\n  <span class=\"normal\"></span>\r\n  <span class=\"low\"></span>\r\n</div>\r\n<div class=\"remove-btn\">REMOVE</div>\r\n</div>`;\r\n};\r\n\r\nexport default Item;\r\n","import { compileFunction } from 'vm';\r\nimport Item from './Item';\r\nimport { getCompletedList, getShoppingList } from './model';\r\n\r\nconst shoppingListDiv = document.querySelector('.shopping-list');\r\nconst completedDiv = document.querySelector('.completed');\r\n\r\nexport const renderShoppingList = () => {\r\n\tconst domNodes = getShoppingList().map(({ item, priority, id }) => {\r\n\t\treturn Item(item, priority, id);\r\n\t});\r\n\r\n\tshoppingListDiv.innerHTML = domNodes.join('');\r\n};\r\n\r\nexport const renderCompletedList = () => {\r\n\tconst domNodes = getCompletedList().map(({ item, priority, id }) => {\r\n\t\treturn Item(item, priority, id);\r\n\t});\r\n\tcompletedDiv.innerHTML = domNodes.join('');\r\n};\r\n","import {\r\n\taddToShoppingList,\r\n\tsetPriority,\r\n\tremoveItem,\r\n\taddToCompletedList,\r\n\tclearCompletedList,\r\n} from './model';\r\nimport { renderShoppingList, renderCompletedList } from './view';\r\n\r\nconst itemInput = document.querySelector(\"input[name='itemInput']\");\r\nconst shoppingListDiv = document.querySelector('.shopping-list');\r\nconst completedDiv = document.querySelector('.completed');\r\nconst clearCompletedBtn = document.querySelector('#clear-completed');\r\n\r\nitemInput.addEventListener('keyup', function (evt) {\r\n\tif (evt.key === 'Enter') {\r\n\t\t// Add to shopping list\r\n\t\taddToShoppingList(evt.target.value);\r\n\t\t// update the view\r\n\t\trenderShoppingList();\r\n\t\tthis.value = '';\r\n\t}\r\n});\r\n\r\nshoppingListDiv.addEventListener('click', function (evt) {\r\n\t// Priority\r\n\tif (evt.target.parentElement.classList.contains('priority-control')) {\r\n\t\tconst priority = evt.target.classList.value;\r\n\t\tconst itemId =\r\n\t\t\tevt.target.parentElement.parentElement.getAttribute('data-id');\r\n\t\t// Set priority\r\n\t\tsetPriority(itemId, priority);\r\n\t\t// Update View\r\n\t\trenderShoppingList();\r\n\t}\r\n\r\n\t// Remove an item\r\n\tif (evt.target.classList.contains('remove-btn')) {\r\n\t\tconst itemId = evt.target.parentElement.getAttribute('data-id');\r\n\t\t// if the item is removed update the view\r\n\t\tif (removeItem(itemId)) {\r\n\t\t\trenderShoppingList();\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Drag and Drop\r\n\r\nshoppingListDiv.addEventListener('dragstart', function (evt) {\r\n\tif (evt.target.classList.contains('item')) {\r\n\t\tconst getId = evt.target.getAttribute('data-id');\r\n\t\tevt.dataTransfer.setData('text/plain', getId);\r\n\t}\r\n});\r\n\r\ncompletedDiv.addEventListener('drop', function (evt) {\r\n\tconst itemId = evt.dataTransfer.getData('text/plain');\r\n\tif (itemId) {\r\n\t\t// Add to completed list\r\n\t\taddToCompletedList(itemId);\r\n\t\t// Update shopping list\r\n\t\trenderShoppingList();\r\n\t\t// Update completed tasks list\r\n\t\trenderCompletedList();\r\n\t}\r\n});\r\n\r\ncompletedDiv.addEventListener('dragover', function (evt) {\r\n\tevt.preventDefault();\r\n});\r\n\r\nclearCompletedBtn.addEventListener('click', function (evt) {\r\n\tevt.preventDefault();\r\n\tclearCompletedList();\r\n\trenderCompletedList();\r\n});\r\n"]}